{"ast":null,"code":"var _jsxFileName = \"/Users/andrewyusuf/movie-rating-sideproject/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { db, auth } from '../firebase';\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport styled from \"styled-components\";\nimport User from '../components/User';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomeContainer = styled.div`\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    overflow: hidden;\n    height: calc(100vh - 70px);\n    width: 100vw;\n`;\n_c = HomeContainer;\nconst UserContainer = styled.div`\n    margin-top: 10px;\n    border-right: 2px solid #fff;\n    overflow-y: auto;\n`;\n_c2 = UserContainer;\nexport const Home = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const authorize = getAuth();\n    onAuthStateChanged(authorize, user => {\n      if (user) {\n        var _auth$currentUser;\n\n        const usersRef = db.collection(\"users\"); // create query obj\n\n        usersRef.where('uid', 'not-in', [(_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid]).get().then(querySnapshot => {\n          let users = [];\n          querySnapshot.forEach(doc => {\n            users.push(doc.data());\n          });\n          setUsers(users);\n        });\n      } else {// User is signed out\n      }\n    });\n  }, []);\n  console.log(users[0]);\n  return /*#__PURE__*/_jsxDEV(HomeContainer, {\n    children: /*#__PURE__*/_jsxDEV(UserContainer, {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(User, {\n        user: user\n      }, user.uid, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 32\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"JadZszbqna06PpJs9hMo7Hl/LOY=\");\n\n_c3 = Home;\nexport default Home;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"HomeContainer\");\n$RefreshReg$(_c2, \"UserContainer\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","db","auth","getAuth","onAuthStateChanged","styled","User","HomeContainer","div","UserContainer","Home","users","setUsers","authorize","user","usersRef","collection","where","currentUser","uid","get","then","querySnapshot","forEach","doc","push","data","console","log","map"],"sources":["/Users/andrewyusuf/movie-rating-sideproject/src/pages/Home.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {db, auth} from '../firebase'\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport styled from \"styled-components\"\nimport User from '../components/User';\n\nconst HomeContainer = styled.div`\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    overflow: hidden;\n    height: calc(100vh - 70px);\n    width: 100vw;\n`\n\nconst UserContainer = styled.div`\n    margin-top: 10px;\n    border-right: 2px solid #fff;\n    overflow-y: auto;\n`\n\nexport const Home = () => {\n\n    const [users, setUsers] = useState([]);\n\n    useEffect(()=>{\n        const authorize = getAuth();\n        onAuthStateChanged(authorize, (user) => {\n            if (user) {\n                const usersRef = db.collection(\"users\");\n                // create query obj\n                usersRef.where('uid', 'not-in', [auth.currentUser?.uid]).get().then((querySnapshot) => {\n                    let users = []\n                    querySnapshot.forEach(doc => {\n                        users.push(doc.data())\n                    });\n                    setUsers(users);\n                })\n            } else {\n                // User is signed out\n            }\n        });\n    }, [])\n    console.log(users[0]);\n\n  return (\n    <HomeContainer>\n        <UserContainer>\n            {users.map(user => <User key={user.uid} user={user}/>\n            )}\n        </UserContainer>\n    </HomeContainer>\n  )\n}\n\n\nexport default Home;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,EAAR,EAAYC,IAAZ,QAAuB,aAAvB;AACA,SAASC,OAAT,EAAkBC,kBAAlB,QAA4C,eAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;AAEA,MAAMC,aAAa,GAAGF,MAAM,CAACG,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;KAAMD,a;AASN,MAAME,aAAa,GAAGJ,MAAM,CAACG,GAAI;AACjC;AACA;AACA;AACA,CAJA;MAAMC,a;AAMN,OAAO,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEtB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;EAEAD,SAAS,CAAC,MAAI;IACV,MAAMc,SAAS,GAAGV,OAAO,EAAzB;IACAC,kBAAkB,CAACS,SAAD,EAAaC,IAAD,IAAU;MACpC,IAAIA,IAAJ,EAAU;QAAA;;QACN,MAAMC,QAAQ,GAAGd,EAAE,CAACe,UAAH,CAAc,OAAd,CAAjB,CADM,CAEN;;QACAD,QAAQ,CAACE,KAAT,CAAe,KAAf,EAAsB,QAAtB,EAAgC,sBAACf,IAAI,CAACgB,WAAN,sDAAC,kBAAkBC,GAAnB,CAAhC,EAAyDC,GAAzD,GAA+DC,IAA/D,CAAqEC,aAAD,IAAmB;UACnF,IAAIX,KAAK,GAAG,EAAZ;UACAW,aAAa,CAACC,OAAd,CAAsBC,GAAG,IAAI;YACzBb,KAAK,CAACc,IAAN,CAAWD,GAAG,CAACE,IAAJ,EAAX;UACH,CAFD;UAGAd,QAAQ,CAACD,KAAD,CAAR;QACH,CAND;MAOH,CAVD,MAUO,CACH;MACH;IACJ,CAdiB,CAAlB;EAeH,CAjBQ,EAiBN,EAjBM,CAAT;EAkBAgB,OAAO,CAACC,GAAR,CAAYjB,KAAK,CAAC,CAAD,CAAjB;EAEF,oBACE,QAAC,aAAD;IAAA,uBACI,QAAC,aAAD;MAAA,UACKA,KAAK,CAACkB,GAAN,CAAUf,IAAI,iBAAI,QAAC,IAAD;QAAqB,IAAI,EAAEA;MAA3B,GAAWA,IAAI,CAACK,GAAhB;QAAA;QAAA;QAAA;MAAA,QAAlB;IADL;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADF;AAQD,CAhCM;;GAAMT,I;;MAAAA,I;AAmCb,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}