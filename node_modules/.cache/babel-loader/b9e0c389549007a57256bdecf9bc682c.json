{"ast":null,"code":"import _slicedToArray from\"/Users/andrewyusuf/movie-rating-sideproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/andrewyusuf/movie-rating-sideproject/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import React,{useState,useEffect}from'react';import{useNavigate,useSearchParams}from'react-router-dom';import axios from\"axios\";import styled from\"styled-components\";import img from\"../NoMoviePoster.jpeg\";import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResultsContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: relative;\\n    overflow: hidden;\\n    height: calc(100vh - 70px);\\n    overflow: auto;\\n    justify-content: center;\\n    display: flex;\\n    // background-color: white;\\n\\n\"])));var TableSearchResults=styled.table(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    padding: 10px;\\n    width: 80vw;\\n\"])));var TBodySearchResults=styled.tbody(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: block;\\n\"])));var TRowSearchResults=styled.tr(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    height: 175px;\\n    margin: 15px;\\n    align-items: center;\\n\"])));var H3Tag=styled.h3(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    font-family: 'Fredoka One', cursive;\\n    font-size: 20px;\\n    \\n    &:hover {\\n        cursor: pointer;\\n        text-decoration: underline;\\n\\n    }\\n\"])));var PTagMovieInfo=styled.p(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    font-size: 12px;\\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\\n\"])));var TDMoviePicture=styled.td(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    height: 175px;\\n    width: 125px;\\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 2px 15px 0 rgba(0, 0, 0, 0.75);\\n    cursor: pointer;\\n\\n\"])));var TDMovieInfo=styled.td(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    //background: rgb(64,78,240);\\n    // background: linear-gradient(342deg, rgba(64,78,240,1) 22%, rgba(189,85,247,1) 100%);\\n    \\n    background-color: #242124;\\n    color: white;\\n    display: block;\\n    overflow-y: auto;\\n    margin-left: 10px;\\n    height: 140px;\\n    padding: 5px 10px;\\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 6px 15px 0 rgba(0, 0, 0, 0.75);\\n    border: 1px solid gray;\\n\\n    &::-webkit-scrollbar {\\n        display: none;\\n    }\\n\\n\\n\"])));var SearchResults=function SearchResults(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];var API_KEY=\"9a637b178d3f0923dd00ef0550b24e90\";var MOVIE_SEARCH_URL=\"https://api.themoviedb.org/3/search/multi?\";var navigate=useNavigate();useEffect(function(){var title=searchParams.get(\"title\");console.log(title);if(title){console.log(\"title exists: \"+title);axios.get(MOVIE_SEARCH_URL+new URLSearchParams({api_key:API_KEY,query:title})).then(function(resp){console.log(resp);setResults(resp.data.results);}).catch(function(err){console.log(err);});}},[searchParams]);var TVShow=function TVShow(_ref){var media=_ref.media;console.log(\"trying to render tv show\");var image=media.poster_path?'https://image.tmdb.org/t/p/original/'+media.poster_path:img;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(TDMoviePicture,{style:{},onClick:function onClick(){return navigate(\"/tv/\"+media.id);},children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:'3px'},width:\"125\",height:\"175\",src:image,alt:\"No Movie Poster\"})}),/*#__PURE__*/_jsxs(TDMovieInfo,{style:{width:'calc(80vw - 125px)',borderRadius:'10px'},children:[/*#__PURE__*/_jsxs(H3Tag,{onClick:function onClick(){return navigate(\"/tv/\"+media.id);},children:[media.name,/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px',fontStyle:'italic',color:'aqua'},children:\" (tv show)\"})]}),/*#__PURE__*/_jsxs(\"h5\",{children:[moment(media.first_air_date,\"Y-M-D\").format(\"MMMM D, Y\"),\"  \",media.vote_count!==0?\"|  Avg. Rating: \".concat(media.vote_average):\"\"]}),/*#__PURE__*/_jsx(PTagMovieInfo,{children:media.overview})]})]});};var Movie=function Movie(_ref2){var media=_ref2.media;var image=media.poster_path?'https://image.tmdb.org/t/p/original/'+media.poster_path:img;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(TDMoviePicture,{style:{},onClick:function onClick(){return navigate(\"/movie/\"+media.id);},children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:'3px'},width:\"125\",height:\"175\",src:image,alt:\"No Movie Poster\"})}),/*#__PURE__*/_jsxs(TDMovieInfo,{style:{width:'calc(80vw - 125px)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(H3Tag,{onClick:function onClick(){return navigate(\"/movie/\"+media.id);},children:media.original_title}),/*#__PURE__*/_jsxs(\"h5\",{children:[moment(media.release_date,\"Y-M-D\").format(\"MMMM D, Y\"),\"  \",media.vote_count!==0?\"|  Avg. Rating: \".concat(media.vote_average):\"\"]}),/*#__PURE__*/_jsx(PTagMovieInfo,{children:media.overview})]})]});};var DisplaySearchResults=function DisplaySearchResults(){console.log(\"displaying search results...\");return/*#__PURE__*/_jsx(TableSearchResults,{children:/*#__PURE__*/_jsx(TBodySearchResults,{children:results.map(function(media){return media.media_type!==\"person\"&&/*#__PURE__*/_jsx(TRowSearchResults,{children:media.media_type===\"tv\"?/*#__PURE__*/_jsx(TVShow,{media:media}):/*#__PURE__*/_jsx(Movie,{media:media})},media.id);})})});};return/*#__PURE__*/_jsx(SearchResultsContainer,{children:results?/*#__PURE__*/_jsx(DisplaySearchResults,{}):/*#__PURE__*/_jsx(\"p\",{children:\"No search results\"})});};export default SearchResults;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","axios","styled","img","moment","SearchResultsContainer","div","TableSearchResults","table","TBodySearchResults","tbody","TRowSearchResults","tr","H3Tag","h3","PTagMovieInfo","p","TDMoviePicture","td","TDMovieInfo","SearchResults","searchParams","setSearchParams","results","setResults","API_KEY","MOVIE_SEARCH_URL","navigate","title","get","console","log","URLSearchParams","api_key","query","then","resp","data","catch","err","TVShow","media","image","poster_path","id","borderRadius","width","name","fontSize","fontStyle","color","first_air_date","format","vote_count","vote_average","overview","Movie","original_title","release_date","DisplaySearchResults","map","media_type"],"sources":["/Users/andrewyusuf/movie-rating-sideproject/src/pages/SearchResults.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport img from \"../NoMoviePoster.jpeg\";\nimport moment from 'moment';\n\nconst SearchResultsContainer = styled.div`\n    position: relative;\n    overflow: hidden;\n    height: calc(100vh - 70px);\n    overflow: auto;\n    justify-content: center;\n    display: flex;\n    // background-color: white;\n\n`\n\nconst TableSearchResults = styled.table`\n    padding: 10px;\n    width: 80vw;\n`\n\nconst TBodySearchResults = styled.tbody`\n    display: block;\n`\n\nconst TRowSearchResults = styled.tr`\n    display: flex;\n    height: 175px;\n    margin: 15px;\n    align-items: center;\n`\n\nconst H3Tag = styled.h3`\n    font-family: 'Fredoka One', cursive;\n    font-size: 20px;\n    \n    &:hover {\n        cursor: pointer;\n        text-decoration: underline;\n\n    }\n`\n\nconst PTagMovieInfo = styled.p`\n    font-size: 12px;\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\n`\n\nconst TDMoviePicture = styled.td`\n    height: 175px;\n    width: 125px;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 2px 15px 0 rgba(0, 0, 0, 0.75);\n    cursor: pointer;\n\n`\n\n\nconst TDMovieInfo = styled.td`\n    //background: rgb(64,78,240);\n    // background: linear-gradient(342deg, rgba(64,78,240,1) 22%, rgba(189,85,247,1) 100%);\n    \n    background-color: #242124;\n    color: white;\n    display: block;\n    overflow-y: auto;\n    margin-left: 10px;\n    height: 140px;\n    padding: 5px 10px;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 6px 15px 0 rgba(0, 0, 0, 0.75);\n    border: 1px solid gray;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n\n\n`\n\n\nconst SearchResults = () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [results, setResults] = useState([]);\n    const API_KEY = \"9a637b178d3f0923dd00ef0550b24e90\";\n    const MOVIE_SEARCH_URL = \"https://api.themoviedb.org/3/search/multi?\"\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const title = searchParams.get(\"title\");\n        console.log(title);\n        if (title) {\n            console.log(\"title exists: \" + title);\n            axios.get(MOVIE_SEARCH_URL + new URLSearchParams({api_key: API_KEY, query : title}))\n            .then((resp) => {\n                console.log(resp);\n                setResults(resp.data.results);\n\n\n            })\n            .catch(err => {console.log(err)})\n        }\n\n\n    }, [searchParams])\n\n    const TVShow = ({media}) => {\n        console.log(\"trying to render tv show\");\n        const image = media.poster_path ? 'https://image.tmdb.org/t/p/original/' + media.poster_path : img;\n\n        return (\n            <React.Fragment>\n                <TDMoviePicture style={{}} onClick={() => navigate(\"/tv/\" + media.id)}>\n                    <img style={{borderRadius: '3px'}} width=\"125\" height=\"175\" src={image} alt=\"No Movie Poster\"/>\n                </TDMoviePicture>\n                <TDMovieInfo style={{width: 'calc(80vw - 125px)', borderRadius: '10px'}}>\n                    <H3Tag onClick={() => navigate(\"/tv/\" + media.id)}>{media.name} \n                        <span style={{fontSize: '16px', fontStyle: 'italic', color: 'aqua'}}> (tv show)</span>\n                    </H3Tag>\n                    <h5>{moment(media.first_air_date, \"Y-M-D\").format(\"MMMM D, Y\")}  {media.vote_count !== 0 ? `|  Avg. Rating: ${media.vote_average}` : \"\" }</h5>\n                    <PTagMovieInfo>{media.overview}</PTagMovieInfo>\n                </TDMovieInfo>\n            </React.Fragment>\n\n        )\n    }\n\n    const Movie = ({media}) => {\n        const image = media.poster_path ? 'https://image.tmdb.org/t/p/original/' + media.poster_path : img;\n\n        return (\n            <React.Fragment>\n                <TDMoviePicture style={{}} onClick={() => navigate(\"/movie/\" + media.id)}>\n                    <img style={{borderRadius: '3px'}} width=\"125\" height=\"175\" src={image} alt=\"No Movie Poster\"/>\n                </TDMoviePicture>\n                <TDMovieInfo style={{width: 'calc(80vw - 125px)', borderRadius: '10px'}}>\n                    <H3Tag onClick={() => navigate(\"/movie/\" + media.id)}>{media.original_title}</H3Tag>\n                    <h5>{moment(media.release_date, \"Y-M-D\").format(\"MMMM D, Y\")}  {media.vote_count !== 0 ? `|  Avg. Rating: ${media.vote_average}` : \"\" }</h5>\n                    <PTagMovieInfo>{media.overview}</PTagMovieInfo>\n                </TDMovieInfo>\n            </React.Fragment>\n\n        )\n    }\n\n\n\n    const DisplaySearchResults = () => {\n        console.log(\"displaying search results...\");\n        return (\n            <TableSearchResults>\n                <TBodySearchResults>\n                    {results.map(media => (media.media_type !== \"person\" &&\n                        <TRowSearchResults key={media.id}>\n                            {media.media_type === \"tv\" ? <TVShow media={media}/> : <Movie media={media}/>}\n                        </TRowSearchResults>\n                    ))}\n                </TBodySearchResults>\n            </TableSearchResults>\n        )\n    }\n\n  return (\n    <SearchResultsContainer>\n        {results ? <DisplaySearchResults/> :\n        <p>No search results</p>\n        }\n    </SearchResultsContainer>\n  )\n}\n\nexport default SearchResults;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}