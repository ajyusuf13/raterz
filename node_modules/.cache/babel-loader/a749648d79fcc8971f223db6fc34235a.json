{"ast":null,"code":"import _slicedToArray from\"/Users/andrewyusuf/movie-rating-sideproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/andrewyusuf/movie-rating-sideproject/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrewyusuf/movie-rating-sideproject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"/Users/andrewyusuf/movie-rating-sideproject/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16;import React,{useEffect,useState}from'react';import moment from'moment';import axios from\"axios\";import{useParams}from'react-router-dom';import styled from\"styled-components\";import img from\"../NoMoviePoster.jpeg\";import{db,auth}from\"../firebase\";import{serverTimestamp}from'firebase/firestore';import ReactStars from\"react-rating-stars-component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TvDetailContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: relative;\\n    height: calc(100vh - 70px);\\n    justify-content: center;\\n    align-items: center;\\n    display: flex;\\n\"])));var TvDetailBackgroundDiv=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 95vw;\\n    height: 100%;\\n    background-size: cover;\\n\"])));var TvDetailBlurDiv=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width: 95vw;\\n    height: 100%;\\n    backdrop-filter: blur(0px) grayscale(0%);\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n\"])));var TvDetailInfoDiv=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 1100px;\\n    height: 500px;\\n    display: grid;\\n    grid-template-columns: 2fr 4fr;\\n    border: 2px solid #000;\\n    background:rgba(1,1,1,0.75);    // grey transparent background\\n\"])));var TvPosterandInfoDiv=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    // border: 1px solid #fff;\\n    padding: 10px;\\n    display: block;\\n    text-align: center;\\n    overflow: scroll;\\n\"])));var TvPosterImg=styled.img(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    width: 250px;\\n    height: 350px;\\n    margin-top: 10px;\\n\"])));var TvInformation=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    display: block;\\n    overflow: auto;\\n    padding: 10px;\\n    // border: 1px solid #fff;\\n\"])));var RatingDiv=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    display: flex;\\n\"])));var TextareaDiv=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    display: block;\\n    margin-top: 1em;\\n\"])));var TextareaTvReview=styled.textarea(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n    width: 90%;\\n    height: 150px;\\n    padding: 10px;\\n    border-radius: 7px;\\n    font-family: 'Cabin', sans-serif;\\n    font-size: 18px;\\n    background:rgba(1,1,1,0.8);     \\n    // color: black;\\n    color: white;\\n    \\n    &:focus {\\n        outline: none;\\n    }\\n\"])));var ButtonGroupDiv=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n    width: 90%;\\n    padding: 10px;\\n    display: flex;\\n    justify-content: right;\\n\"])));var Button=styled.button(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n    padding: 0;\\n    border-radius: 7px;\\n    width: 60px;\\n    height: 25px;\\n    border: none;\\n    margin-right: 8px;\\n    transition: all 0.2s ease;\\n    color: black;\\n    font-family: 'Dosis', sans-serif;\\n\\n    &:hover {\\n        transform: scale(1.05);\\n        cursor: pointer;\\n    }\\n\\n    &.save {\\n        background-color: #00FA9A;\\n\\n    }\\n\\n    &.clear {\\n        background-color: #C0C0C0;\\n\\n    }\\n\"])));var ShareButton=styled.button(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n    padding: 0;\\n    width: 55px;\\n    height: 30px;\\n    margin-top: 6px;\\n    margin-left: 12px;\\n    border-radius: 7px;\\n    border: none;\\n    \\n    &.clickable {\\n        transition: all 0.2s ease;\\n        background-color: #00FFFF;\\n        cursor: pointer;\\n\\n        &:hover {\\n        transform: scale(1.05);\\n        background-color: #00BFFF;\\n        }\\n    }\\n    &.disabled {\\n        background-color: gray;\\n    }\\n\"])));var H2RatingNumber=styled.h2(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n    margin: 12px 0 10px 10px;\\n\\n    &.ratingString {\\n        margin: 16px 0 10px 10px;\\n        font-size: 16px;\\n    }\\n\"])));var H3Tag=styled.h3(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n    font-family: 'Fredoka One', cursive;\\n    font-size: 34px;\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n\"])));var H4Tag=styled.h4(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n    font-style: italic;\\n    color: white;\\n\"])));var DisplayTvDetail=function DisplayTvDetail(_ref){var TvDetail=_ref.TvDetail,rating=_ref.rating,ratingChanged=_ref.ratingChanged,review=_ref.review,setReview=_ref.setReview,clearReview=_ref.clearReview,saveReview=_ref.saveReview;var image=TvDetail.poster_path?'https://image.tmdb.org/t/p/original/'+TvDetail.poster_path:img;var backgroundImage=TvDetail.backdrop_path?'https://image.tmdb.org/t/p/original/'+TvDetail.backdrop_path:\"\";var shareRating=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.collection(\"posts\").doc(auth.currentUser.uid).collection(\"post\").add({rating:rating,title:TvDetail.name,mediaPoster:TvDetail.poster_path?'https://image.tmdb.org/t/p/original/'+TvDetail.poster_path:img,type:\"tv\",mediaId:TvDetail.id,name:auth.currentUser.displayName,userUID:auth.currentUser.uid,photoURL:auth.currentUser.photoURL,createdAt:serverTimestamp()});case 2:alert(\"post has been shared\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function shareRating(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(TvDetailBackgroundDiv,{style:{backgroundImage:\"url(\".concat(backgroundImage,\")\")},children:/*#__PURE__*/_jsx(TvDetailBlurDiv,{children:/*#__PURE__*/_jsxs(TvDetailInfoDiv,{children:[/*#__PURE__*/_jsxs(TvPosterandInfoDiv,{children:[/*#__PURE__*/_jsx(TvPosterImg,{style:{},src:image,alt:\"No TV Poster\"}),TvDetail.first_air_date?/*#__PURE__*/_jsxs(H4Tag,{style:{margin:'5px 0 0 0'},children:[\"First Aired: \",moment(TvDetail.first_air_date,\"Y-M-D\").format(\"MMMM D, Y\")]}):null,TvDetail.last_air_date?/*#__PURE__*/_jsxs(H4Tag,{style:{margin:'5px 0 0 0'},children:[\"Last Aired: \",moment(TvDetail.last_air_date,\"Y-M-D\").format(\"MMMM D, Y\"),\" (\",TvDetail.status,\")\"]}):null,TvDetail.tagline?/*#__PURE__*/_jsx(\"p\",{children:TvDetail.tagline}):null]}),/*#__PURE__*/_jsxs(TvInformation,{children:[/*#__PURE__*/_jsx(H3Tag,{children:TvDetail.name}),TvDetail.genres.length?/*#__PURE__*/_jsxs(\"p\",{style:{fontStyle:'italic',marginBottom:'5px',color:'red'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px',fontStyle:'italic',color:'aqua'},children:\" (tv show) \"}),TvDetail.genres.map(function(genre){return genre.name;}).join(\", \")]}):null,TvDetail.overview?/*#__PURE__*/_jsx(\"p\",{children:TvDetail.overview}):null,/*#__PURE__*/_jsxs(RatingDiv,{children:[/*#__PURE__*/_jsx(ReactStars,{value:Math.max(0,rating),count:10,onChange:ratingChanged,size:30,isHalf:true,emptyIcon:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-star\"}),halfIcon:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-half-alt\"}),fullIcon:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),activeColor:\"#98FB98\"},\"stars_\".concat(rating)),rating?/*#__PURE__*/_jsx(H2RatingNumber,{children:rating}):/*#__PURE__*/_jsx(H2RatingNumber,{className:\"ratingString\",children:\"No Rating Yet\"}),/*#__PURE__*/_jsx(ShareButton,{onClick:shareRating,disabled:!rating,className:rating?\"clickable\":\"disabled\",children:\"share\"})]}),/*#__PURE__*/_jsxs(TextareaDiv,{children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 5px 0'},children:\"Review: \"}),/*#__PURE__*/_jsx(TextareaTvReview// {...register(\"review\")}\n,{spellCheck:\"false\",id:\"textAreaReview\",placeholder:'This tv show sucks...? or?',type:\"text\",value:review,onChange:function onChange(e){return setReview(e.target.value);}}),/*#__PURE__*/_jsxs(ButtonGroupDiv,{children:[/*#__PURE__*/_jsx(Button,{className:\"clear\",onClick:clearReview,children:\"clear\"}),/*#__PURE__*/_jsx(Button,{className:\"save\",onClick:saveReview,children:\"save\"})]})]})]})]})})})});};var TvDetail=function TvDetail(){var TvId=useParams().id;var API_KEY=\"9a637b178d3f0923dd00ef0550b24e90\";var _useState=useState(),_useState2=_slicedToArray(_useState,2),TvDetail=_useState2[0],setTvDetail=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),review=_useState6[0],setReview=_useState6[1];var TV_DETAIL_URL=\"https://api.themoviedb.org/3/tv/\"+TvId+\"?\"+new URLSearchParams({api_key:API_KEY});var ratingChanged=function ratingChanged(newRating){console.log(newRating);setRating(newRating);db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId).set({rating:newRating},{merge:true});};var clearReview=function clearReview(){console.log(\"clearing review\");setReview(\"\");console.log(review);setRating(0);document.getElementById(\"textAreaReview\").value=\"\";console.log(\"text area should be empty\");db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId).delete();};var saveReview=function saveReview(){if(review){db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId).set({review:review,timestamp:serverTimestamp()},{merge:true});alert(\"review has been saved\");}};useEffect(function(){axios.get(TV_DETAIL_URL).then(function(resp){console.log(resp.data);setTvDetail(resp.data);});db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId).get().then(function(docSnap){var reviewDB=docSnap.get(\"review\");if(reviewDB===undefined){console.log(\"There was no saved review\");}else{// put the post in the text area but check if it's undefined\nsetReview(reviewDB);console.log(\"There was a saved review: \"+reviewDB);// check if there is a rating\nvar tvRating=docSnap.get(\"rating\");console.log(\"tvRating rating\",JSON.stringify(tvRating));setRating(tvRating?tvRating:0);}}).catch(function(err){console.log(err);console.log(\"error trying to get document from firestore\");});},[]);return/*#__PURE__*/_jsx(TvDetailContainer,{children:TvDetail?/*#__PURE__*/_jsx(DisplayTvDetail,{TvDetail:TvDetail,review:review,setReview:setReview,rating:rating,ratingChanged:ratingChanged,clearReview:clearReview,saveReview:saveReview}):/*#__PURE__*/_jsx(\"p\",{children:\"No TV Detail\"})});};export default TvDetail;","map":{"version":3,"names":["React","useEffect","useState","moment","axios","useParams","styled","img","db","auth","serverTimestamp","ReactStars","TvDetailContainer","div","TvDetailBackgroundDiv","TvDetailBlurDiv","TvDetailInfoDiv","TvPosterandInfoDiv","TvPosterImg","TvInformation","RatingDiv","TextareaDiv","TextareaTvReview","textarea","ButtonGroupDiv","Button","button","ShareButton","H2RatingNumber","h2","H3Tag","h3","H4Tag","h4","DisplayTvDetail","TvDetail","rating","ratingChanged","review","setReview","clearReview","saveReview","image","poster_path","backgroundImage","backdrop_path","shareRating","collection","doc","currentUser","uid","add","title","name","mediaPoster","type","mediaId","id","displayName","userUID","photoURL","createdAt","alert","first_air_date","margin","format","last_air_date","status","tagline","genres","length","fontStyle","marginBottom","color","fontSize","map","genre","join","overview","Math","max","e","target","value","TvId","API_KEY","setTvDetail","setRating","TV_DETAIL_URL","URLSearchParams","api_key","newRating","console","log","set","merge","document","getElementById","delete","timestamp","get","then","resp","data","docSnap","reviewDB","undefined","tvRating","JSON","stringify","catch","err"],"sources":["/Users/andrewyusuf/movie-rating-sideproject/src/pages/TvDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport moment from 'moment';\nimport axios from \"axios\";\nimport { useParams } from 'react-router-dom';\nimport styled from \"styled-components\";\nimport img from \"../NoMoviePoster.jpeg\";\nimport {db, auth} from \"../firebase\"\nimport { serverTimestamp } from 'firebase/firestore';\nimport ReactStars from \"react-rating-stars-component\";\n\n\n\nconst TvDetailContainer = styled.div`\n    position: relative;\n    height: calc(100vh - 70px);\n    justify-content: center;\n    align-items: center;\n    display: flex;\n`\n\nconst TvDetailBackgroundDiv = styled.div`\n    width: 95vw;\n    height: 100%;\n    background-size: cover;\n`\n\nconst TvDetailBlurDiv = styled.div `\n    width: 95vw;\n    height: 100%;\n    backdrop-filter: blur(0px) grayscale(0%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst TvDetailInfoDiv = styled.div`\n    width: 1100px;\n    height: 500px;\n    display: grid;\n    grid-template-columns: 2fr 4fr;\n    border: 2px solid #000;\n    background:rgba(1,1,1,0.75);    // grey transparent background\n`\nconst TvPosterandInfoDiv = styled.div`\n    // border: 1px solid #fff;\n    padding: 10px;\n    display: block;\n    text-align: center;\n    overflow: scroll;\n`\n\nconst TvPosterImg = styled.img`\n    width: 250px;\n    height: 350px;\n    margin-top: 10px;\n`\n\nconst TvInformation = styled.div`\n    display: block;\n    overflow: auto;\n    padding: 10px;\n    // border: 1px solid #fff;\n`\nconst RatingDiv = styled.div`\n    display: flex;\n`\nconst TextareaDiv = styled.div`\n    display: block;\n    margin-top: 1em;\n`\nconst TextareaTvReview = styled.textarea`\n    width: 90%;\n    height: 150px;\n    padding: 10px;\n    border-radius: 7px;\n    font-family: 'Cabin', sans-serif;\n    font-size: 18px;\n    background:rgba(1,1,1,0.8);     \n    // color: black;\n    color: white;\n    \n    &:focus {\n        outline: none;\n    }\n`\n\nconst ButtonGroupDiv = styled.div`\n    width: 90%;\n    padding: 10px;\n    display: flex;\n    justify-content: right;\n`\n\nconst Button = styled.button`\n    padding: 0;\n    border-radius: 7px;\n    width: 60px;\n    height: 25px;\n    border: none;\n    margin-right: 8px;\n    transition: all 0.2s ease;\n    color: black;\n    font-family: 'Dosis', sans-serif;\n\n    &:hover {\n        transform: scale(1.05);\n        cursor: pointer;\n    }\n\n    &.save {\n        background-color: #00FA9A;\n\n    }\n\n    &.clear {\n        background-color: #C0C0C0;\n\n    }\n`\n\nconst ShareButton = styled.button`\n    padding: 0;\n    width: 55px;\n    height: 30px;\n    margin-top: 6px;\n    margin-left: 12px;\n    border-radius: 7px;\n    border: none;\n    \n    &.clickable {\n        transition: all 0.2s ease;\n        background-color: #00FFFF;\n        cursor: pointer;\n\n        &:hover {\n        transform: scale(1.05);\n        background-color: #00BFFF;\n        }\n    }\n    &.disabled {\n        background-color: gray;\n    }\n`\n\nconst H2RatingNumber = styled.h2`\n    margin: 12px 0 10px 10px;\n\n    &.ratingString {\n        margin: 16px 0 10px 10px;\n        font-size: 16px;\n    }\n`\n\nconst H3Tag = styled.h3`\n    font-family: 'Fredoka One', cursive;\n    font-size: 34px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n`\n\nconst H4Tag = styled.h4`\n    font-style: italic;\n    color: white;\n`\n\nconst DisplayTvDetail = ({TvDetail, rating, ratingChanged, review, setReview, clearReview, saveReview}) => {\n    const image = TvDetail.poster_path ? 'https://image.tmdb.org/t/p/original/' + TvDetail.poster_path : img;\n    const backgroundImage =  TvDetail.backdrop_path ? 'https://image.tmdb.org/t/p/original/' + TvDetail.backdrop_path : \"\";\n\n    const shareRating = async () => {\n        await db.collection(\"posts\").doc(auth.currentUser.uid).collection(\"post\").add({\n            rating: rating,\n            title: TvDetail.name,\n            mediaPoster: TvDetail.poster_path ? 'https://image.tmdb.org/t/p/original/' + TvDetail.poster_path : img,\n            type: \"tv\",\n            mediaId: TvDetail.id,\n            name: auth.currentUser.displayName,\n            userUID: auth.currentUser.uid,\n            photoURL: auth.currentUser.photoURL,\n            createdAt: serverTimestamp(),\n        })\n        alert(\"post has been shared\");\n    };\n\n\n    return (\n        <React.Fragment>\n            <TvDetailBackgroundDiv style={{backgroundImage: `url(${backgroundImage})`}}>\n                <TvDetailBlurDiv>\n                    <TvDetailInfoDiv>\n                        <TvPosterandInfoDiv>\n                            <TvPosterImg style={{}} src={image} alt=\"No TV Poster\"/>\n                            {TvDetail.first_air_date? <H4Tag style={{margin: '5px 0 0 0'}}>First Aired: {moment(TvDetail.first_air_date, \"Y-M-D\").format(\"MMMM D, Y\")}</H4Tag> : null}\n                            {TvDetail.last_air_date? \n                                <H4Tag style={{margin: '5px 0 0 0'}}>Last Aired: {moment(TvDetail.last_air_date, \"Y-M-D\").format(\"MMMM D, Y\")} ({TvDetail.status})</H4Tag> \n                                : null}\n                            {TvDetail.tagline ? <p>{TvDetail.tagline}</p> : null}\n                        </TvPosterandInfoDiv>\n                        <TvInformation>\n                            <H3Tag>{TvDetail.name}</H3Tag>\n                            {TvDetail.genres.length ? (\n                            <p style={{fontStyle: 'italic', marginBottom: '5px', color: 'red'}}>\n                                <span style={{fontSize: '16px', fontStyle: 'italic', color: 'aqua'}}> (tv show) </span>\n                                {TvDetail.genres.map(genre => {return genre.name}).join(\", \")}\n                            </p>\n                            ) : null}\n                            {TvDetail.overview ? <p>{TvDetail.overview}</p> : null}\n                            <RatingDiv>\n                                <ReactStars\n                                key={`stars_${rating}`}\n                                value={Math.max(0, rating)}\n                                count={10}\n                                onChange={ratingChanged}\n                                size={30}\n                                isHalf={true}\n                                emptyIcon={<i className=\"far fa-star\"></i>}\n                                halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n                                fullIcon={<i className=\"fa fa-star\"></i>}\n                                activeColor=\"#98FB98\"\n                                />\n                                {rating ? <H2RatingNumber>{rating}</H2RatingNumber> : <H2RatingNumber className='ratingString'>No Rating Yet</H2RatingNumber>}\n                                <ShareButton onClick={shareRating} disabled={!rating} className={rating ? \"clickable\" : \"disabled\"}>share</ShareButton>\n                            </RatingDiv>\n                            <TextareaDiv>\n                                <h5 style={{margin: '0 0 5px 0'}}>Review: </h5>\n                                <TextareaTvReview \n                                    // {...register(\"review\")}\n                                    spellCheck=\"false\"\n                                    id=\"textAreaReview\"\n                                    placeholder={'This tv show sucks...? or?'}\n                                    type=\"text\"\n                                    value={review}\n                                    onChange={(e) => setReview(e.target.value)}\n                                ></TextareaTvReview>\n                                <ButtonGroupDiv>\n                                    <Button className='clear' onClick={clearReview}>clear</Button>\n                                    <Button className='save' onClick={saveReview}>save</Button>\n                                </ButtonGroupDiv>\n                            </TextareaDiv>\n                            \n                        </TvInformation>\n                \n                    </TvDetailInfoDiv>\n                </TvDetailBlurDiv>\n            </TvDetailBackgroundDiv>\n        </React.Fragment>\n    )\n\n\n}\n\n    \nconst TvDetail = () => {\n\n    const TvId = useParams().id;\n    const API_KEY = \"9a637b178d3f0923dd00ef0550b24e90\";\n    const [TvDetail, setTvDetail] = useState();\n    const [rating, setRating] = useState(0);\n    const [review, setReview] = useState(\"\");\n\n    const TV_DETAIL_URL = \"https://api.themoviedb.org/3/tv/\" + TvId + \n        \"?\" + new URLSearchParams({api_key: API_KEY});\n\n\n    const ratingChanged = (newRating) => {\n        console.log(newRating);\n        setRating(newRating);\n        db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId)\n            .set(\n            {rating : newRating},\n            {merge : true})\n    };\n\n    const clearReview = () => {\n        console.log(\"clearing review\");\n        setReview(\"\");\n        console.log(review);\n        setRating(0);\n        document.getElementById(\"textAreaReview\").value = \"\";\n        \n        console.log(\"text area should be empty\");\n        db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId)\n            .delete();\n    }\n\n    const saveReview = () => {\n        if (review) {\n            db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId)\n            .set(\n            {   review : review,\n                timestamp : serverTimestamp()\n            },\n            {merge: true});\n            alert(\"review has been saved\");\n        }\n    }\n\n    useEffect(() => {\n        axios.get(TV_DETAIL_URL)\n        .then(resp => {\n            console.log(resp.data);\n            setTvDetail(resp.data);\n        })\n\n        db.collection(\"tv\").doc(auth.currentUser.uid).collection(\"reviews\").doc(TvId).get()\n            .then((docSnap) => {\n                const reviewDB = docSnap.get(\"review\");\n                if (reviewDB === undefined) {\n                    console.log(\"There was no saved review\");\n                } else {\n                    // put the post in the text area but check if it's undefined\n                    setReview(reviewDB);\n                    console.log(\"There was a saved review: \" + reviewDB);\n\n                    // check if there is a rating\n                    const tvRating = docSnap.get(\"rating\");\n                    console.log(\"tvRating rating\", JSON.stringify(tvRating));\n                    setRating(tvRating ? tvRating : 0);\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n                console.log(\"error trying to get document from firestore\")\n            })\n\n    }, [])\n\n\n  return (\n    <TvDetailContainer>\n        {TvDetail ? <DisplayTvDetail \n            TvDetail={TvDetail}\n            review={review}\n            setReview={setReview}\n            rating={rating} \n            ratingChanged={ratingChanged}\n            clearReview={clearReview}\n            saveReview={saveReview}\n        /> \n        : <p>No TV Detail</p>}\n    </TvDetailContainer>\n  )\n}\n\nexport default TvDetail"],"mappings":"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"},"metadata":{},"sourceType":"module"}